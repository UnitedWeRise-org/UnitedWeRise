# Copy this file to .env and fill in your actual values
# DO NOT commit the actual .env file to git

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Primary database connection (used by application and Prisma)
DATABASE_URL="postgresql://username:password@host:port/database?sslmode=require"

# For admin/utility scripts that need separate connections:
# Production database (used by scripts in backend/scripts/ and backend/*.js)
PROD_DATABASE_URL="postgresql://username:password@unitedwerise-db.postgres.database.azure.com:5432/postgres?sslmode=require"

# Development/Staging database (used by cross-environment copy scripts)
DEV_DATABASE_URL="postgresql://username:password@unitedwerise-db-dev.postgres.database.azure.com:5432/postgres?sslmode=require"

# Authentication
JWT_SECRET="your-super-secret-jwt-key-here"
JWT_EXPIRES_IN="7d"

# Server Configuration
PORT=3001
NODE_ENV="development"
FRONTEND_URL="http://localhost:3000"
ALLOWED_ORIGINS="http://localhost:3000"
BCRYPT_SALT_ROUNDS=12

# hCaptcha (get from https://www.hcaptcha.com/)
HCAPTCHA_SECRET_KEY="your-hcaptcha-secret-key-here"

# Geocodio API (get from https://www.geocod.io/)
GEOCODIO_API_KEY="your-geocodio-api-key-here"

# Google Maps API (for address autocomplete and Civic Information)
GOOGLE_MAPS_API_KEY="your-google-maps-api-key-here"

# Email Service (if using)
EMAIL_SERVICE_API_KEY="your-email-service-api-key"

# SMS Service (if using phone verification)
SMS_SERVICE_API_KEY="your-sms-service-api-key"

# Apple Push Notification Service (APNs)
# Get credentials from Apple Developer Portal > Keys
# Convert .p8 key to base64: base64 -i AuthKey_XXXXXXXXXX.p8 | tr -d '\n'
APNS_KEY_ID=""
APNS_TEAM_ID=""
APNS_BUNDLE_ID="com.unitedwerise.app"
APNS_KEY=""

# AI Services for Topic Analysis
HUGGINGFACE_API_KEY="your-huggingface-api-key"
SENTENCE_TRANSFORMERS_MODEL="sentence-transformers/all-MiniLM-L6-v2"

# DEPRECATED: Qwen service no longer used (Sept 2, 2025) - migrated to Azure OpenAI
# QWEN3_API_URL="http://localhost:8000"
# QWEN3_API_KEY="your-qwen3-api-key"

# Qdrant Vector Database (optional - falls back to PostgreSQL)
QDRANT_URL="http://localhost:6333"
QDRANT_API_KEY=""

# =============================================================================
# VIDEO (SNIPPETS) CONFIGURATION
# =============================================================================

# Azure Blob Storage for video files
AZURE_STORAGE_CONNECTION_STRING="DefaultEndpointsProtocol=https;AccountName=uwrstorage2425;AccountKey=YOUR_KEY;EndpointSuffix=core.windows.net"
AZURE_STORAGE_ACCOUNT_NAME="uwrstorage2425"

# Optional: CDN endpoint for faster video delivery
# AZURE_CDN_ENDPOINT="https://your-cdn.azureedge.net"

# Video upload limits
VIDEO_MAX_SIZE_BYTES="524288000"     # 500MB (default)
VIDEO_MAX_DURATION_SECONDS="180"      # 3 minutes (default)

# Encoding configuration
# Set to "true" to use background queue mode (recommended for production)
VIDEO_ENCODING_QUEUE="true"

# Optional: Azure Media Services (for production-grade encoding)
# AZURE_MEDIA_SERVICES_SUBSCRIPTION_ID=""
# AZURE_MEDIA_SERVICES_RESOURCE_GROUP=""
# AZURE_MEDIA_SERVICES_ACCOUNT_NAME=""

# Optional: Content moderation (Azure Content Safety)
# AZURE_CONTENT_SAFETY_ENDPOINT=""
# AZURE_CONTENT_SAFETY_KEY=""
