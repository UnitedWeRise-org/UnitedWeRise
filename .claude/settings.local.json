{
  "permissions": {
    "allow": [
      "Bash(node:*)",
      "WebFetch(domain:www.geocod.io)",
      "Bash(rm:*)",
      "Bash(curl:*)",
      "Bash(touch:*)",
      "Bash(npx prisma migrate dev:*)",
      "Bash(npm install:*)",
      "Bash(npx prisma generate:*)",
      "Bash(taskkill:*)",
      "Bash(cmd /c:*)",
      "Bash(powershell:*)",
      "Bash(az acr build:*)",
      "Bash(where az)",
      "WebFetch(domain:express-rate-limit.github.io)",
      "Bash(az containerapp exec:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(git checkout:*)",
      "Bash(git fetch:*)",
      "Bash(git pull:*)",
      "Bash(find:*)",
      "Bash(mv:*)",
      "Bash(az staticwebapp show:*)",
      "Bash(cp:*)",
      "Bash(git reset:*)",
      "Bash(az:*)",
      "Bash(timeout:*)",
      "Bash(true)",
      "Bash(npx dotenv -e .env.production -- npx prisma migrate:*)",
      "Bash(npx prisma migrate reset:*)",
      "Bash(nslookup:*)",
      "Bash(npm run build:*)",
      "Bash(docker build:*)",
      "WebFetch(domain:unitedwerise-backend.wonderfulpond-f8a8271f.eastus.azurecontainerapps.io)",
      "Bash(npx prisma db pull:*)",
      "Bash(npx prisma:*)",
      "WebFetch(domain:www.unitedwerise.org)",
      "Bash(mkdir:*)",
      "Bash(brew install:*)",
      "Bash(gh auth:*)",
      "Bash(git config:*)",
      "Bash(gh repo view:*)",
      "Bash(python3:*)",
      "Bash(/opt/homebrew/bin/az containerapp update --name unitedwerise-backend --resource-group unitedwerise-rg --set-env-vars \"ALLOWED_ORIGINS=https://www.unitedwerise.org,https://yellow-mud-043d1ca0f.2.azurestaticapps.net,http://localhost:3000,http://localhost:8080\")",
      "Bash(lsof:*)",
      "WebFetch(domain:maplibre.org)",
      "Bash(dir:*)",
      "Bash(grep:*)",
      "WebFetch(domain:docs.anthropic.com)",
      "Bash(python:*)",
      "Bash(npm run:*)",
      "Bash(python:*)",
      "Bash(start http://localhost:8080)",
      "Bash(npm start)",
      "Bash(\"AZURE_OPENAI_ENDPOINT=https://unitedwerise-openai.openai.azure.com/\" )",
      "Bash(\"AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-ada-002\" )",
      "Bash(\"AZURE_OPENAI_CHAT_DEPLOYMENT=gpt-35-turbo\" )",
      "Bash(\"ENABLE_SEMANTIC_TOPICS=true\" )",
      "Bash(\"SEMANTIC_PROVIDER=azure\" )",
      "Bash(\"SIMILARITY_THRESHOLD=0.60\")",
      "Bash(echo:*)",
      "Bash(gh run list:*)",
      "Bash(awk:*)",
      "Bash(cat:*)",
      "WebFetch(domain:developers.google.com)",
      "Bash(gh api:*)",
      "WebSearch",
      "Bash(npx ts-node:*)",
      "Bash(psql:*)",
      "Bash(APP_NAME=\"unitedwerise-backend\")",
      "Bash(RESOURCE_GROUP=\"unitedwerise-rg\")",
      "Bash(git merge:*)",
      "Bash(npx tsc:*)",
      "WebFetch(domain:delightful-smoke-097b2fa0f.1.azurestaticapps.net)",
      "Bash(gh secret:*)",
      "WebFetch(domain:api.github.com)",
      "Bash(where magick)",
      "Bash(pip install:*)",
      "Bash(git stash:*)",
      "Bash(gh run watch:*)",
      "Bash(gh run view:*)",
      "Bash(npx dotenv:*)",
      "Read(/Users/jeffreysmacbookpro/.claude/protocols/**)",
      "Read(/Users/jeffreysmacbookpro/UnitedWeRise/.claude/protocols/**)",
      "Read(/Users/jeffreysmacbookpro/UnitedWeRise/.claude/plans/**)",
      "Read(/Users/jeffreysmacbookpro/UnitedWeRise/.claude/handoffs/**)",
      "Bash(git log:*)",
      "Bash(wc:*)",
      "Bash(for f in src/modules/admin/state/AdminState.js src/modules/admin/controllers/ReportsController.js src/modules/admin/controllers/OverviewController.js src/modules/admin/controllers/SecurityController.js src/modules/admin/controllers/DeploymentController.js)",
      "Bash(do echo \"Checking $f...\")",
      "Bash(done)",
      "Bash(CHANGELOG.md )",
      "Bash(frontend/src/modules/admin/auth/AdminAuth.js )",
      "Bash(frontend/src/modules/admin/controllers/DeploymentController.js )",
      "Bash(frontend/src/modules/admin/controllers/OverviewController.js )",
      "Bash(frontend/src/modules/admin/controllers/ReportsController.js )",
      "Bash(frontend/src/modules/admin/controllers/SecurityController.js )",
      "Bash(frontend/src/modules/admin/state/AdminState.js )",
      "Bash(.claude/handoffs/2026-01-01-admin-graceful-resume-fix.md )",
      "Bash(.claude/handoffs/2025-12-22-admin-401-refresh-fix.md)",
      "Bash(git rev-parse:*)",
      "WebFetch(domain:admin.unitedwerise.org)",
      "WebFetch(domain:dev-admin.unitedwerise.org)",
      "Bash(frontend/src/utils/security.js )",
      "Bash(frontend/src/components/VerificationFlow.js )",
      "Bash(frontend/src/components/moderation/index.js )",
      "Bash(frontend/src/handlers/auth-handlers.js )",
      "Bash(frontend/src/handlers/content-handlers.js )",
      "Bash(frontend/src/handlers/search-handlers.js )",
      "Bash(frontend/src/js/donation-system.js )",
      "Bash(frontend/src/js/map-maplibre.js )",
      "Bash(frontend/src/modules/features/search/global-search.js )",
      "Bash(backend/src/utils/safeJson.ts )",
      "Bash(backend/src/utils/urlSanitizer.ts )",
      "Bash(backend/src/middleware/*.ts)",
      "Bash(backend/src/routes/*.ts)",
      "Bash(backend/src/server.ts )",
      "Bash(backend/src/services/sessionManager.ts )",
      "Bash(docs/SECURITY_NOTES.md )",
      "Bash(.claude/handoffs/2026-01-07-security-remediation-complete.md)",
      "Skill(security-audit)",
      "Bash(gh workflow view:*)",
      "Bash(gh run rerun:*)",
      "Bash(ls:*)",
      "Bash(git diff:*)",
      "Bash(git init:*)",
      "Bash(jq:*)",
      "Bash(xcodebuild:*)",
      "Bash(PGPASSWORD='Y0urSecur3Passw0rd!' psql:*)",
      "Bash(PGPASSWORD='Y0urSecur3Passw0rd!' /opt/homebrew/opt/postgresql@14/bin/psql:*)",
      "Bash(PGPASSWORD='UWR-Secure2024!' /opt/homebrew/opt/postgresql@14/bin/psql \"host=unitedwerise-db-dev.postgres.database.azure.com port=5432 dbname=postgres user=uwradmin sslmode=require\" -c \"DELETE FROM \"\"_prisma_migrations\"\" WHERE migration_name = ''20260123_ensure_reaction_unique_constraint'';\")",
      "Bash(DATABASE_URL=\"postgresql://uwradmin:UWR-Secure2024!@unitedwerise-db-dev.postgres.database.azure.com:5432/postgres?schema=public&sslmode=require\" npx prisma migrate resolve:*)",
      "Bash(gh workflow run:*)",
      "Bash(tree:*)",
      "Bash(xargs:*)",
      "Bash(git revert:*)",
      "Bash(chmod:*)",
      "Bash(gh repo list:*)",
      "Bash(gh repo create:*)",
      "Bash(git status:*)",
      "Bash(dd:*)",
      "Bash(git check-ignore:*)",
      "Bash(ffprobe:*)",
      "Bash(xxd:*)",
      "Bash(git -C /Users/jeffreysmacbookpro/UnitedWeRise status:*)",
      "Bash(git -C /Users/jeffreysmacbookpro/UnitedWeRise log --oneline -5)",
      "Bash(git -C /Users/jeffreysmacbookpro/UnitedWeRise push origin development)"
    ],
    "deny": [
      "Bash(npm run dev:*)"
    ]
  },
  "disabledMcpjsonServers": [
    "unitedwerise-tools",
    "staging-monitor",
    "deployment-tracker",
    "performance-monitor",
    "security-scanner"
  ],
  "hooks": {
    "UserPromptSubmit": [
      {
        "matcher": "(auth|login|jwt|oauth|requireAuth|requireStagingAuth)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'AUTH WORK: Read .claude/protocols/auth_protocol.md before modifying authentication'"
          }
        ]
      }
    ]
  }
}
